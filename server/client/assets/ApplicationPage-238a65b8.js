import{_ as M,o as L,i as r,S as N,y as j,E as V,T as z,z as W,B as q,C as G,D as H,r as t,a as n,c as s,b as c,d as e,l,e as g,s as R,u as d,G as m,H as T,P as h,x as a,I as J,p as K,g as O}from"./index-33cc2847.js";const Q={setup(){async function i(){try{m.log("Refreshing token.."),await T.refreshAccessToken()}catch(o){h.error(o)}}async function v(){try{await J.StartPlayer()}catch(o){h.error(o)}}async function p(){if(localStorage.getItem("access_token"))a.accessToken=localStorage.getItem("access_token"),a.refreshToken=localStorage.getItem("refresh_token"),m.log("Access Token",a.accessToken,a.refreshToken);else try{m.log(a.accessToken),await T.requestAuthCode()}catch(o){m.error(o)}v()}return L(()=>{p(),setInterval(i,6e5)}),{tracks:r(()=>a.tracks),activeTrack:r(()=>a.activeTrack),activeTimeblock:r(()=>a.activeTimeBlock),activeEvent:r(()=>a.activeEvent),gettingActiveTimeblock:r(()=>a.gettingActiveTimeblock)}},components:{SongSearchBar:N,Player:j,EventDropdown:V,TimeBlockList:z,ActiveTimeblockMusic:W,ActiveTimeblockSilent:q,EventSelect:G,CreateTimeblock:H}},U=i=>(K("data-v-c525ff17"),i=i(),O(),i),X={class:"full-app-view p-0"},Y={class:"row app-wrapper"},Z={class:"col-12 col-md-3 left-panel p-0"},$={class:"row"},ee={class:"col-12 d-flex justify-content-center align-items-center"},te=U(()=>c("div",{class:"add-wrapper"},[c("i",{class:"mdi mdi-plus add-button"})],-1)),oe={class:"active-song d-flex align-items-center justify-content-center invisible-scrollbar",type:"button","data-toggle":"modal","data-target":"#activesongmodal"},ce={class:"col-12 col-md-7 center-panel p-0"},ne={class:"main-content row justify-content-center mx-1 background-img mt-3 mb-2"},se={key:0,class:"row justify-content-center"},ae={key:1},ie={key:0},re={key:1},le={key:2},_e={key:0},de={key:1},me={class:"col-12 col-md-2 right-panel text-center"};function ve(i,v,p,o,pe,ke){const y=t("EventDropdown"),f=t("CreateEventForm"),_=t("ModalWrapper"),u=t("TimeBlockList"),S=t("ActiveSong"),b=t("SongSearchBar"),A=t("SearchedTrackCard"),E=t("ActiveTimeblockSilent"),w=t("ActiveTimeblockMusic"),B=t("EventSelect"),P=t("CreateTimeblock"),C=t("Player"),x=t("Profile"),I=t("TimeBlockTrackDetails"),F=t("EditTimerForm"),D=t("NotesForm");return n(),s(g,null,[c("section",X,[c("section",Y,[c("div",Z,[c("section",$,[c("div",ee,[e(y),e(_,{id:"create-event"},{button:l(()=>[te]),body:l(()=>[e(f)]),_:1})])]),e(u),c("div",oe,[e(S)])]),c("div",ce,[e(b),c("div",ne,[o.tracks[0]?(n(),s("div",se,[(n(!0),s(g,null,R(o.tracks,k=>(n(),s("div",{key:k.id,class:"col-12 col-md-10 elevation-2 m-2 searched-song-card ms-2"},[e(A,{track:k},null,8,["track"])]))),128))])):o.activeTimeblock?(n(),s("div",ae,[o.activeTimeblock.isSilent?(n(),s("div",ie,[e(E)])):d("",!0),o.activeTimeblock.isSilent?d("",!0):(n(),s("div",re,[e(w)]))])):(n(),s("div",le,[o.activeEvent?d("",!0):(n(),s("div",_e,[e(B)])),!o.gettingActiveTimeblock&&o.activeEvent?(n(),s("div",de,[e(P)])):d("",!0)]))]),e(C)]),c("div",me,[e(x)])])]),e(_,{id:"my-song"},{body:l(()=>[e(I)]),_:1}),e(_,{id:"edit-timer"},{body:l(()=>[e(F)]),_:1}),e(_,{id:"save-notes"},{body:l(()=>[e(D)]),_:1})],64)}const Te=M(Q,[["render",ve],["__scopeId","data-v-c525ff17"]]);export{Te as default};
